# 📘 運用ルール：履歴参照とトークン監視（2025年6月13日）

## ✅ 1. 選択的履歴参照ルール

- ChatGPTは、**現在のセッション内のやりとり（直近の会話履歴）**のみを参照対象とする。
- **過去スレッドの内容、長期記憶（記憶ON状態）、非表示情報**などには依存しない。
- **GitHub由来またはユーザー明示による命令・ルールが最優先**され、他の履歴は上書きされる。
- トークン上限によりセッション履歴が巻き戻された場合は、**命令文を再投入する必要がある。**

---

## ✅ 2. トークン概算モニタリングルール

ChatGPTは各やりとりのたびに**ざっくりとトークン数を概算**し、以下のしきい値に従ってユーザーに通知する。

| トークン数（概算） | ChatGPTの動作 |
|--------------------|----------------|
| 〜5,000            | 通常運転       |
| 5,000〜6,000       | 軽度注意：「残量半分を超えました」 |
| 6,000〜7,000       | 注意：「履歴が圧迫されています」 |
| 7,000〜8,000       | 警告：「命令の保持が不安定になります」 |
| 8,000〜            | 強警告：「セッション移動または命令文の再挿入を推奨します」 |

- 概算は±10%の精度を許容とし、履歴圧迫による暴走補完・命令逸脱の予防を目的とする。
- ChatGPTはトークン数の内部状態を厳密には把握できないため、**あくまで推定による警告とする**。

---

## 📌 備考

- 本ルールは、ChatGPTが勝手な判断や履歴依存補完を行わないように設計されています。
- このルールを遵守することで、構造的再現性と命令保全性が向上します。
