---
title: Prometheus Alertingæ§‹æˆ ç´¢å¼•
file_name: alerting_index_20250726_00000084.md
version: v1.0.0
updated: 2025-07-26
thread: thread_Nancy_X_20250726_00000084.md
type: index
namespace: monitoring.alerting
description: >
  Prometheus â†’ Alertmanager â†’ é€šçŸ¥ãƒãƒ£ãƒãƒ«ï¼ˆSlackç­‰ï¼‰ã«é–¢ã™ã‚‹è¨­å®šãƒ»ãƒ«ãƒ¼ãƒ«ãƒ»Webhooké€£æºã®æ§‹æˆã‚’ç´¢å¼•åŒ–ã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€‚
---

# ğŸ““ Alertingæ§‹æˆç´¢å¼• â€“ æ¦‚è¦

Prometheusã®ã‚¢ãƒ©ãƒ¼ãƒˆãƒ«ãƒ¼ãƒ«ï¼ˆalert.rules.ymlï¼‰ã¨ã€Alertmanagerã®è¨­å®šï¼ˆconfig.ymlï¼‰ã«é–¢ã™ã‚‹è¨­å®šæ§‹æˆã‚’ç´¢å¼•åŒ–ã€‚  
Slacké€šçŸ¥ãªã©ã®Webhookæ§‹æˆã‚‚å«ã‚ã€æ¤œç´¢æ€§ã‚’é‡è¦–ã—ã¦ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«ã¾ã¨ã‚ã‚‹ã€‚

---

## ğŸ”” Alert Rulesï¼ˆPrometheuså´ï¼‰

| ã‚¢ãƒ©ãƒ¼ãƒˆå        | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                                 | æ¦‚è¦                        |
|------------------|---------------------------------------------|-----------------------------|
| `InstanceDown`   | `/etc/prometheus/alert.rules.yml`           | Node Exporterãªã©ã®æ­»æ´»ç›£è¦– |
| `HighCPUUsage`   | `/etc/prometheus/alert.rules.yml`           | CPUä½¿ç”¨ç‡ãŒä¸€å®šä»¥ä¸Šã§é€šçŸ¥  |
| `LowDiskSpace`   | `/etc/prometheus/alert.rules.yml`           | ãƒ‡ã‚£ã‚¹ã‚¯æ®‹é‡ã®ä¸è¶³æ¤œçŸ¥     |
| `SlackTestAlert` | `/etc/prometheus/rules/test_notification.yml` | Slacké€šçŸ¥ãƒ†ã‚¹ãƒˆç”¨           |

---

## ğŸ§­ Alertmanager è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

| é …ç›®            | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹                         | å‚™è€ƒ                           |
|----------------|-------------------------------------|-------------------------------|
| Slacké€šçŸ¥è¨­å®š   | `/etc/alertmanager/config.yml`      | `slack_configs` ã«Webhookè¨˜è¼‰  |
| ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š | `/etc/alertmanager/config.yml`      | `route:`ãƒ–ãƒ­ãƒƒã‚¯ã§æ¡ä»¶åˆ†å²ç®¡ç† |

---

## ğŸ“¡ ãƒ†ã‚¹ãƒˆãƒ»è£œåŠ©ãƒ•ã‚¡ã‚¤ãƒ«

| ç”¨é€”                     | ãƒ•ã‚¡ã‚¤ãƒ« or ã‚³ãƒãƒ³ãƒ‰                            | èª¬æ˜                                     |
|--------------------------|-----------------------------------------------|------------------------------------------|
| é€šçŸ¥ãƒ†ã‚¹ãƒˆé€ä¿¡           | `curl -XPOST http://localhost:9093/api/v1/alerts` | ä»»æ„ã®alertã‚’ç›´æ¥Alertmanagerã«æŠ•ã’ã‚‹   |
| Slackç”¨Webhook URL       | ç’°å¢ƒå¤‰æ•° or `config.yml` ã«ç›´æ›¸ã               | ã‚»ã‚­ãƒ¥ã‚¢ã«ã™ã‚‹ãªã‚‰ `.env` ã«éš”é›¢         |

---

## ğŸ—‚ ãã®ä»–ãƒ¡ãƒ¢

- Prometheuså†èµ·å‹•: `sudo systemctl restart prometheus`
- Alertmanagerå†èµ·å‹•: `sudo systemctl restart alertmanager`
- Web UIç¢ºèª: `http://localhost:9090/alerts` / `:9093/#/status`

---

## âœ… ä»Šå¾Œã®TODOå€™è£œ

- [ ] severityãƒ©ãƒ™ãƒ«ã«ã‚ˆã‚‹é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã®åˆ†å²
- [ ] é€šçŸ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆtext/templateï¼‰ã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- [ ] Silenceæ©Ÿèƒ½ã®è‡ªå‹•åŒ– or UIé€£æºèª¿æŸ»

